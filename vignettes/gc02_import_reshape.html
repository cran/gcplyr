<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Mike Blazanin" />


<title>Importing and reshaping data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Importing and reshaping data</h1>
<h4 class="author">Mike Blazanin</h4>


<div id="TOC">
<ul>
<li><a href="#where-are-we-so-far" id="toc-where-are-we-so-far">Where
are we so far?</a></li>
<li><a href="#data-formats-and-layouts" id="toc-data-formats-and-layouts">Data formats and layouts</a></li>
<li><a href="#importing-data" id="toc-importing-data">Importing
data</a></li>
<li><a href="#importing-block-shaped-data" id="toc-importing-block-shaped-data">Importing block-shaped data</a>
<ul>
<li><a href="#a-basic-example" id="toc-a-basic-example">A basic
example</a></li>
<li><a href="#specifying-metadata" id="toc-specifying-metadata">Specifying metadata</a></li>
<li><a href="#reading-multiple-blocks-from-a-single-file" id="toc-reading-multiple-blocks-from-a-single-file">Reading multiple
blocks from a single file</a></li>
<li><a href="#what-to-do-next" id="toc-what-to-do-next">What to do
next</a></li>
</ul></li>
<li><a href="#importing-wide-shaped-data" id="toc-importing-wide-shaped-data">Importing wide-shaped data</a>
<ul>
<li><a href="#a-basic-example-1" id="toc-a-basic-example-1">A basic
example</a></li>
<li><a href="#specifying-metadata-1" id="toc-specifying-metadata-1">Specifying metadata</a></li>
<li><a href="#what-to-do-next-1" id="toc-what-to-do-next-1">What to do
next</a></li>
</ul></li>
<li><a href="#importing-tidy-shaped-data" id="toc-importing-tidy-shaped-data">Importing tidy-shaped data</a></li>
<li><a href="#transforming-data" id="toc-transforming-data">Transforming
data</a>
<ul>
<li><a href="#transforming-from-wide-shaped-to-tidy-shaped" id="toc-transforming-from-wide-shaped-to-tidy-shaped">Transforming from
wide-shaped to tidy-shaped</a></li>
</ul></li>
<li><a href="#whats-next" id="toc-whats-next">What’s next?</a></li>
</ul>
</div>

<div id="where-are-we-so-far" class="section level1">
<h1>Where are we so far?</h1>
<ol style="list-style-type: decimal">
<li>Introduction: <code>vignette(&quot;gc01_gcplyr&quot;)</code></li>
<li><strong>Importing and reshaping data:</strong>
<code>vignette(&quot;gc02_import_reshape&quot;)</code></li>
<li>Incorporating experimental designs:
<code>vignette(&quot;gc03_incorporate_designs&quot;)</code></li>
<li>Pre-processing and plotting your data:
<code>vignette(&quot;gc04_preprocess_plot&quot;)</code></li>
<li>Processing your data: <code>vignette(&quot;gc05_process&quot;)</code></li>
<li>Analyzing your data: <code>vignette(&quot;gc06_analyze&quot;)</code></li>
<li>Dealing with noise: <code>vignette(&quot;gc07_noise&quot;)</code></li>
<li>Statistics, merging other data, and other resources:
<code>vignette(&quot;gc08_conclusion&quot;)</code></li>
<li>Working with multiple plates:
<code>vignette(&quot;gc09_multiple_plates&quot;)</code></li>
</ol>
<p>Previously, we gave a quick demonstration of what <code>gcplyr</code>
can do. Here, we’re going into more detail about how to import your data
into <code>R</code> and and transform it into a better layout.</p>
<p>If you haven’t already, load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(gcplyr)</span></code></pre></div>
</div>
<div id="data-formats-and-layouts" class="section level1">
<h1>Data formats and layouts</h1>
<p><code>gcplyr</code> was built to easily read all the most-common
tabular file formats. While this most explicitly includes formats like
csv, xls, and xlsx, in fact <code>gcplyr</code> functions for
<code>read</code>ing or <code>import</code>ing can work with
<em>any</em> file format that <code>R</code>’s built-in
<code>read.table</code> function can handle. If you’re working with
something besides csv, xls, or xlsx, simply specify the arguments you
would need for <code>read.table</code> to the relevant
<code>gcplyr</code> function and it should handle the rest.</p>
<p>Aside from file <em>formats</em>, growth curve data and designs can
be <em>organized</em> in one of three different layouts: block-shaped,
wide-shaped, and tidy-shaped, described below.</p>
<p>Tidy-shaped data is the best layout for analyses, but most plate
readers output block-shaped or wide-shaped data, and most user-created
design files will be block-shaped. Thus, <code>gcplyr</code> works by
reshaping block-shaped and wide-shaped data into tidy-shaped data, then
running analyses.</p>
<p>So, how can you tell which layout your data is in?</p>
<p><strong>Block-shaped</strong></p>
<p>In block-shaped data, the organization of the data corresponds
directly with the layout of the physical multi-well plate it was
generated from. For instance, a data point from the third row and fourth
column of the <code>data.frame</code> will be from the well in the third
row and fourth column in the physical plate. A timeseries of growth
curve data that is block-shaped will consist of many separate
block-shaped data.frames, each corresponding to a single timepoint.</p>
<p>For example, here is a block-shaped <code>data.frame</code> of a
96-well plate (with “…” indicating Columns 4 - 10, not shown). In this
example, all the data shown would be from a single timepoint.</p>
<table style="width:100%;">
<colgroup>
<col width="16%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
<col width="5%" />
<col width="16%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Column 1</th>
<th>Column 2</th>
<th>Column 3</th>
<th>…</th>
<th>Column 11</th>
<th>Column 12</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Row A</strong></td>
<td>0.060</td>
<td>0.083</td>
<td>0.086</td>
<td>…</td>
<td>0.082</td>
<td>0.085</td>
</tr>
<tr class="even">
<td><strong>Row B</strong></td>
<td>0.099</td>
<td>0.069</td>
<td>0.065</td>
<td>…</td>
<td>0.066</td>
<td>0.078</td>
</tr>
<tr class="odd">
<td><strong>Row C</strong></td>
<td>0.081</td>
<td>0.071</td>
<td>0.070</td>
<td>…</td>
<td>0.064</td>
<td>0.084</td>
</tr>
<tr class="even">
<td><strong>Row D</strong></td>
<td>0.094</td>
<td>0.075</td>
<td>0.065</td>
<td>…</td>
<td>0.067</td>
<td>0.087</td>
</tr>
<tr class="odd">
<td><strong>Row E</strong></td>
<td>0.052</td>
<td>0.054</td>
<td>0.072</td>
<td>…</td>
<td>0.079</td>
<td>0.065</td>
</tr>
<tr class="even">
<td><strong>Row F</strong></td>
<td>0.087</td>
<td>0.095</td>
<td>0.091</td>
<td>…</td>
<td>0.075</td>
<td>0.058</td>
</tr>
<tr class="odd">
<td><strong>Row G</strong></td>
<td>0.095</td>
<td>0.079</td>
<td>0.099</td>
<td>…</td>
<td>0.063</td>
<td>0.075</td>
</tr>
<tr class="even">
<td><strong>Row H</strong></td>
<td>0.056</td>
<td>0.069</td>
<td>0.070</td>
<td>…</td>
<td>0.053</td>
<td>0.078</td>
</tr>
</tbody>
</table>
<p><strong>Wide-shaped</strong></p>
<p>In wide-shaped data, each column of the dataframe corresponds to a
single well from the plate, and each row of the dataframe corresponds to
a single timepoint. Typically, headers contain the well names.</p>
<p>For example, here is a wide-shaped dataframe of a 96-well plate
(here, “…” indicates the 91 columns A4 - H10, not shown). Each row of
this dataframe corresponds to a single timepoint.</p>
<table>
<thead>
<tr class="header">
<th>Time</th>
<th>A1</th>
<th>A2</th>
<th>A3</th>
<th>…</th>
<th>H11</th>
<th>H12</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0.060</td>
<td>0.083</td>
<td>0.086</td>
<td>…</td>
<td>0.053</td>
<td>0.078</td>
</tr>
<tr class="even">
<td>1</td>
<td>0.012</td>
<td>0.166</td>
<td>0.172</td>
<td>…</td>
<td>0.106</td>
<td>0.156</td>
</tr>
<tr class="odd">
<td>2</td>
<td>0.024</td>
<td>0.332</td>
<td>0.344</td>
<td>…</td>
<td>0.212</td>
<td>0.312</td>
</tr>
<tr class="even">
<td>3</td>
<td>0.048</td>
<td>0.664</td>
<td>0.688</td>
<td>…</td>
<td>0.424</td>
<td>0.624</td>
</tr>
<tr class="odd">
<td>4</td>
<td>0.096</td>
<td>1.128</td>
<td>0.976</td>
<td>…</td>
<td>0.848</td>
<td>1.148</td>
</tr>
<tr class="even">
<td>5</td>
<td>0.162</td>
<td>1.256</td>
<td>1.152</td>
<td>…</td>
<td>1.096</td>
<td>1.296</td>
</tr>
<tr class="odd">
<td>6</td>
<td>0.181</td>
<td>1.292</td>
<td>1.204</td>
<td>…</td>
<td>1.192</td>
<td>1.352</td>
</tr>
<tr class="even">
<td>7</td>
<td>0.197</td>
<td>1.324</td>
<td>1.288</td>
<td>…</td>
<td>1.234</td>
<td>1.394</td>
</tr>
</tbody>
</table>
<p><strong>Tidy-shaped</strong></p>
<p>In tidy-shaped data, there is a single column that contains all the
plate reader measurements, with each unique measurement having its own
row. Additional columns specify the timepoint, which well the data comes
from, and any other design elements.</p>
<p>Note that, in tidy-shaped data, the number of rows equals the number
of wells times the number of timepoints. Yes, that’s a lot of rows! But
tidy-shaped data is the best format for analyses, and is common in a
number of <code>R</code> packages, including <code>ggplot</code>, where
it’s sometimes called a “long” format.</p>
<table>
<thead>
<tr class="header">
<th>Timepoint</th>
<th>Well</th>
<th>Measurement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>A1</td>
<td>0.060</td>
</tr>
<tr class="even">
<td>1</td>
<td>A2</td>
<td>0.083</td>
</tr>
<tr class="odd">
<td>1</td>
<td>A3</td>
<td>0.086</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>7</td>
<td>H10</td>
<td>1.113</td>
</tr>
<tr class="even">
<td>7</td>
<td>H11</td>
<td>1.234</td>
</tr>
<tr class="odd">
<td>7</td>
<td>H12</td>
<td>1.394</td>
</tr>
</tbody>
</table>
</div>
<div id="importing-data" class="section level1">
<h1>Importing data</h1>
<p>Once you’ve determined what format your data is in, you can begin
importing it using the <code>read_*</code> or <code>import_*</code>
functions of <code>gcplyr</code>.</p>
<p><strong>If your data is block-shaped:</strong> use
<code>import_blockmeasures</code> and start in the next section:
<strong><a href="#importing-block-shaped-data">Importing block-shaped
data</a></strong></p>
<p><strong>If your data is wide-shaped:</strong> use
<code>read_wides</code> and skip down to the <strong><a href="#importing-wide-shaped-data">Importing wide-shaped
data</a></strong> section</p>
<p><strong>If your data is already tidy-shaped:</strong> use
<code>read_tidys</code> and skip down to the <strong><a href="#importing-tidy-shaped-data">Importing tidy-shaped
data</a></strong> section.</p>
</div>
<div id="importing-block-shaped-data" class="section level1">
<h1>Importing block-shaped data</h1>
<p>To import block-shaped data, use the
<code>import_blockmeasures</code> function.
<code>import_blockmeasures</code> only requires a list of filenames (or
relative file paths) and <strong>will return a wide-shaped
data.frame</strong> that you can save in R.</p>
<div id="a-basic-example" class="section level2">
<h2>A basic example</h2>
<p>Here’s a simple example. First, we need to create a series of example
block-shaped <code>.csv</code> files. When working with real growth
curve data, these files would be output by the plate reader, but we’ll
generate them with <code>make_example</code>. In this case,
<code>make_example</code> creates the files and returns a vector with
the names of the files, which we’ll store in
<code>temp_filenames</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>temp_filenames <span class="ot">&lt;-</span> <span class="fu">make_example</span>(<span class="at">vignette =</span> <span class="dv">2</span>, <span class="at">example =</span> <span class="dv">1</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">#&gt; Files have been written</span></span></code></pre></div>
<p>If you’ve saved all the files to a single folder, you can easily get
a vector with all their names using <code>list.files</code>. If your
folder contains other files, you can specify a regular expression
<code>pattern</code> to limit it to just those you want to import:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Here we print all the files we&#39;re going to read</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">&quot;Plate1.*csv&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;Plate1-0_00_00.csv&quot;  &quot;Plate1-0_15_00.csv&quot;  &quot;Plate1-0_30_00.csv&quot; </span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;Plate1-0_45_00.csv&quot;  &quot;Plate1-10_00_00.csv&quot; &quot;Plate1-10_15_00.csv&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;Plate1-10_30_00.csv&quot; &quot;Plate1-10_45_00.csv&quot; &quot;Plate1-11_00_00.csv&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt; [10] &quot;Plate1-11_15_00.csv&quot; &quot;Plate1-11_30_00.csv&quot; &quot;Plate1-11_45_00.csv&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; [13] &quot;Plate1-12_00_00.csv&quot; &quot;Plate1-12_15_00.csv&quot; &quot;Plate1-12_30_00.csv&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt; [16] &quot;Plate1-12_45_00.csv&quot; &quot;Plate1-13_00_00.csv&quot; &quot;Plate1-13_15_00.csv&quot;</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt; [19] &quot;Plate1-13_30_00.csv&quot; &quot;Plate1-13_45_00.csv&quot; &quot;Plate1-14_00_00.csv&quot;</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; [22] &quot;Plate1-14_15_00.csv&quot; &quot;Plate1-14_30_00.csv&quot; &quot;Plate1-14_45_00.csv&quot;</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; [25] &quot;Plate1-15_00_00.csv&quot; &quot;Plate1-15_15_00.csv&quot; &quot;Plate1-15_30_00.csv&quot;</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; [28] &quot;Plate1-15_45_00.csv&quot; &quot;Plate1-16_00_00.csv&quot; &quot;Plate1-16_15_00.csv&quot;</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt; [31] &quot;Plate1-16_30_00.csv&quot; &quot;Plate1-16_45_00.csv&quot; &quot;Plate1-17_00_00.csv&quot;</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; [34] &quot;Plate1-17_15_00.csv&quot; &quot;Plate1-17_30_00.csv&quot; &quot;Plate1-17_45_00.csv&quot;</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; [37] &quot;Plate1-18_00_00.csv&quot; &quot;Plate1-18_15_00.csv&quot; &quot;Plate1-18_30_00.csv&quot;</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; [40] &quot;Plate1-18_45_00.csv&quot; &quot;Plate1-19_00_00.csv&quot; &quot;Plate1-19_15_00.csv&quot;</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt; [43] &quot;Plate1-19_30_00.csv&quot; &quot;Plate1-19_45_00.csv&quot; &quot;Plate1-1_00_00.csv&quot; </span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="co">#&gt; [46] &quot;Plate1-1_15_00.csv&quot;  &quot;Plate1-1_30_00.csv&quot;  &quot;Plate1-1_45_00.csv&quot; </span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt; [49] &quot;Plate1-20_00_00.csv&quot; &quot;Plate1-20_15_00.csv&quot; &quot;Plate1-20_30_00.csv&quot;</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt; [52] &quot;Plate1-20_45_00.csv&quot; &quot;Plate1-21_00_00.csv&quot; &quot;Plate1-21_15_00.csv&quot;</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt; [55] &quot;Plate1-21_30_00.csv&quot; &quot;Plate1-21_45_00.csv&quot; &quot;Plate1-22_00_00.csv&quot;</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="co">#&gt; [58] &quot;Plate1-22_15_00.csv&quot; &quot;Plate1-22_30_00.csv&quot; &quot;Plate1-22_45_00.csv&quot;</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="co">#&gt; [61] &quot;Plate1-23_00_00.csv&quot; &quot;Plate1-23_15_00.csv&quot; &quot;Plate1-23_30_00.csv&quot;</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="co">#&gt; [64] &quot;Plate1-23_45_00.csv&quot; &quot;Plate1-24_00_00.csv&quot; &quot;Plate1-2_00_00.csv&quot; </span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="co">#&gt; [67] &quot;Plate1-2_15_00.csv&quot;  &quot;Plate1-2_30_00.csv&quot;  &quot;Plate1-2_45_00.csv&quot; </span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="co">#&gt; [70] &quot;Plate1-3_00_00.csv&quot;  &quot;Plate1-3_15_00.csv&quot;  &quot;Plate1-3_30_00.csv&quot; </span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="co">#&gt; [73] &quot;Plate1-3_45_00.csv&quot;  &quot;Plate1-4_00_00.csv&quot;  &quot;Plate1-4_15_00.csv&quot; </span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="co">#&gt; [76] &quot;Plate1-4_30_00.csv&quot;  &quot;Plate1-4_45_00.csv&quot;  &quot;Plate1-5_00_00.csv&quot; </span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="co">#&gt; [79] &quot;Plate1-5_15_00.csv&quot;  &quot;Plate1-5_30_00.csv&quot;  &quot;Plate1-5_45_00.csv&quot; </span></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="co">#&gt; [82] &quot;Plate1-6_00_00.csv&quot;  &quot;Plate1-6_15_00.csv&quot;  &quot;Plate1-6_30_00.csv&quot; </span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="co">#&gt; [85] &quot;Plate1-6_45_00.csv&quot;  &quot;Plate1-7_00_00.csv&quot;  &quot;Plate1-7_15_00.csv&quot; </span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="co">#&gt; [88] &quot;Plate1-7_30_00.csv&quot;  &quot;Plate1-7_45_00.csv&quot;  &quot;Plate1-8_00_00.csv&quot; </span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a><span class="co">#&gt; [91] &quot;Plate1-8_15_00.csv&quot;  &quot;Plate1-8_30_00.csv&quot;  &quot;Plate1-8_45_00.csv&quot; </span></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="co">#&gt; [94] &quot;Plate1-9_00_00.csv&quot;  &quot;Plate1-9_15_00.csv&quot;  &quot;Plate1-9_30_00.csv&quot; </span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a><span class="co">#&gt; [97] &quot;Plate1-9_45_00.csv&quot;</span></span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a><span class="co"># Here we save them to the temp_filenames variable</span></span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a>temp_filenames <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">&quot;Plate1.*csv&quot;</span>)</span></code></pre></div>
<p>Here’s what one of the files looks like (where the values are
absorbance/optical density):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">print_df</span>(<span class="fu">read.csv</span>(temp_filenames[<span class="dv">1</span>], <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">colClasses =</span> <span class="st">&quot;character&quot;</span>))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">#&gt;                                                                          </span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt;    Time     0                                                            </span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt;                                                                          </span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt;       1     2     3     4     5     6     7     8     9    10    11    12</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt; A 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt; B 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt; C 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; D 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt; E 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; F 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt; G 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt; H 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span></code></pre></div>
<p>This file corresponds to all the reads for a single plate taken at
the very first timepoint. We can see that the second row of the file
contains some metadata about the timepoint when this plate read read was
taken. Then, the data itself starts with column headers on row 4 and
rownames in column 1.</p>
<p>If we want to read these files into <code>R</code>, we simply provide
<code>import_blockmeasures</code> with the vector of file names, and
save the result to some <code>R</code> object (here,
<code>imported_blockdata</code>). <code>import_blockmeasures</code>
assumes your data starts on the first row and column, and ends on the
last row and column, unless you specify otherwise.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Now let&#39;s read it with import_blockmeasures</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">files =</span> temp_filenames, <span class="at">startrow =</span> <span class="dv">4</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">head</span>(imported_blockdata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt;        block_name    A1    A2    A3    A4    A5    A6    A7</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; 1  Plate1-0_00_00 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; 2  Plate1-0_15_00 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; 3  Plate1-0_30_00 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; 4  Plate1-0_45_00 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; 5 Plate1-10_00_00 0.725 0.975  0.63 0.996 1.001 0.345 0.001</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; 6 Plate1-10_15_00 0.758 0.981 0.667     1 1.005 0.379 0.001</span></span></code></pre></div>
<p>Here we can see that <code>import_blockmeasures</code> has created a
wide-shaped R object containing the data from all of our reads. It has
also added the file names under the <code>block_name</code> column, so
that we can easily track which row came from which file.</p>
<p>If you’re looking at your data in Excel or a similar spreadsheet
program, you’ll notice that the columns are coded by letter.
<code>import_blockmeasures</code> allows you to specify the column by
letter too.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># We can specify rows or columns by Excel-style letters too</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">files =</span> temp_filenames,</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="at">startrow =</span> <span class="dv">4</span>, <span class="at">startcol =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
</div>
<div id="specifying-metadata" class="section level2">
<h2>Specifying metadata</h2>
<p>Sometimes, your input files will have information you want to import
that’s not included in the main block of data. For instance, with
block-shaped data the timepoint is nearly always specified somewhere in
the input file. <code>import_blockmeasures</code> can include that
information as well via the <code>metadata</code> argument.</p>
<p>For example, let’s return to our most-recent example files:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">print_df</span>(<span class="fu">read.csv</span>(temp_filenames[<span class="dv">1</span>], <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">colClasses =</span> <span class="st">&quot;character&quot;</span>))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt;                                                                          </span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt;    Time     0                                                            </span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt;                                                                          </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt;       1     2     3     4     5     6     7     8     9    10    11    12</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; A 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt; B 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; C 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; D 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; E 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; F 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; G 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt; H 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span></code></pre></div>
<p>In these files, the timepoint information was located in the 2nd row
and 3rd column. Here’s how we could specify that metadata in our
<code>import_blockmeasures</code> command:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Reading the blockcurves files with metadata included</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="at">files =</span> temp_filenames,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="at">startrow =</span> <span class="dv">4</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(<span class="st">&quot;time&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)))</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="fu">head</span>(imported_blockdata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">#&gt;        block_name  time    A1    A2    A3    A4    A5    A6</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">#&gt; 1  Plate1-0_00_00     0 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co">#&gt; 2  Plate1-0_15_00   900 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="co">#&gt; 3  Plate1-0_30_00  1800 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="co">#&gt; 4  Plate1-0_45_00  2700 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="co">#&gt; 5 Plate1-10_00_00 36000 0.725 0.975  0.63 0.996 1.001 0.345</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="co">#&gt; 6 Plate1-10_15_00 36900 0.758 0.981 0.667     1 1.005 0.379</span></span></code></pre></div>
<p>You can see that the metadata you specified has been added as a
column in our output <code>data.frame</code>. When specifying metadata,
the metadata argument must be a list of named vectors. Each vector
should have two elements specifying the location of the metadata in the
input files: the first element is the row, the second element is the
column.</p>
<p>You can also specify the location of metadata with Excel-style
lettering.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Reading the blockcurves files with metadata included</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="at">files =</span> temp_filenames,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="at">startrow =</span> <span class="dv">4</span>,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(<span class="st">&quot;time&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="st">&quot;C&quot;</span>)))</span></code></pre></div>
</div>
<div id="reading-multiple-blocks-from-a-single-file" class="section level2">
<h2>Reading multiple blocks from a single file</h2>
<p><code>import_blockmeasures</code> can also import multiple blocks
from a single file, which some plate readers may output. In this case,
you simply have to specify a vector of rows and columns that define the
location of each block within the file.</p>
<p>First, let’s create an example file (normally this file would be
created by the plate reader).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">make_example</span>(<span class="at">vignette =</span> <span class="dv">2</span>, <span class="at">example =</span> <span class="dv">2</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">#&gt; Files have been written</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;./blocks_single.csv&quot;</span></span></code></pre></div>
<p>Let’s take a look at what the file looks like:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">print_df</span>(<span class="fu">head</span>(<span class="fu">read.csv</span>(<span class="st">&quot;blocks_single.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>                       <span class="at">colClasses =</span> <span class="st">&quot;character&quot;</span>),</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>              <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">8</span>)))</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co">#&gt; block_name Plate1-0_00_00                                    </span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co">#&gt;       time              0                                    </span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt;                         1     2     3     4     5     6     7</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt;          A          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="co">#&gt;          B          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">#&gt;          C          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">#&gt;          D          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">#&gt;          E          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co">#&gt;          F          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="co">#&gt;          G          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co">#&gt;          H          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co">#&gt;                                                              </span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="co">#&gt; block_name Plate1-0_15_00                                    </span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="co">#&gt;       time            900                                    </span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="co">#&gt;                         1     2     3     4     5     6     7</span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a><span class="co">#&gt;          A          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a><span class="co">#&gt;          B          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="co">#&gt;          C          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="co">#&gt;          D          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a><span class="co">#&gt;          E          0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span></code></pre></div>
<p>We can see that the first block has some metadata above it, then the
block of data itself. After that there’s an empty row before the next
block starts. In fact, if we look at the whole file, we’ll notice that
all the blocks go from column 1 (“A” in Excel) to column 13 (“M” in
Excel), they start on rows 3, 15, 27, 39, etc, and end on rows 11, 23,
35, 47, etc. When we look in the file, we can also see that the very
last block starts on row 1155 and ends on row 1163. Let’s read this
information in using <code>import_blockmeasures</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="st">&quot;blocks_single.csv&quot;</span>,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="at">startrow =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">3</span>, <span class="at">to =</span> <span class="dv">1155</span>, <span class="at">by =</span> <span class="dv">12</span>),</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="at">endrow =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">11</span>, <span class="at">to =</span> <span class="dv">1163</span>, <span class="at">by =</span> <span class="dv">12</span>),</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="at">startcol =</span> <span class="dv">1</span>, <span class="at">endcol =</span> <span class="dv">13</span>)</span></code></pre></div>
<p>Here we’ve used the built-in <code>R</code> function <code>seq</code>
to generate the full vector of <code>startrow</code>s and
<code>endrow</code>s. If we take a look, we can see that it’s been read
successfully:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">head</span>(imported_blockdata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="co">#&gt;      block_name    A1    A2    A3    A4    A5    A6    A7</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co">#&gt; 1 blocks_single 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="co">#&gt; 2 blocks_single 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="co">#&gt; 3 blocks_single 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="co">#&gt; 4 blocks_single 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="co">#&gt; 5 blocks_single 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="co">#&gt; 6 blocks_single 0.002 0.003 0.002 0.003 0.003 0.002 0.002</span></span></code></pre></div>
<p>Now let’s add some metadata. Because we’re reading from a single
file, we need to specify the metadata slightly differently. Instead of
the metadata being a single vector <code>c(row,column)</code> with the
location, it’s going to be a list of two vectors, one with the row
numbers, and one with the column numbers.</p>
<p>Going back to the file, we can see that the time of the block is
saved in the second column, in rows 2, 14, 26, 38, … through 1154.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>imported_blockdata <span class="ot">&lt;-</span> <span class="fu">import_blockmeasures</span>(</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="st">&quot;blocks_single.csv&quot;</span>,</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="at">startrow =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">3</span>, <span class="at">to =</span> <span class="dv">1155</span>, <span class="at">by =</span> <span class="dv">12</span>),</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="at">endrow =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">11</span>, <span class="at">to =</span> <span class="dv">1163</span>, <span class="at">by =</span> <span class="dv">12</span>),</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>  <span class="at">startcol =</span> <span class="dv">1</span>, <span class="at">endcol =</span> <span class="dv">13</span>,</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(<span class="st">&quot;time&quot;</span> <span class="ot">=</span> <span class="fu">list</span>(<span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">2</span>, <span class="at">to =</span> <span class="dv">1154</span>, <span class="at">by =</span> <span class="dv">12</span>), <span class="dv">2</span>)))</span></code></pre></div>
<p>And now if we take a look at the resulting object, we can see that
the time metadata has been incorporated.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">head</span>(imported_blockdata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="co">#&gt;      block_name time    A1    A2    A3    A4    A5    A6</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="co">#&gt; 1 blocks_single    0 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co">#&gt; 2 blocks_single  900 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="co">#&gt; 3 blocks_single 1800 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="co">#&gt; 4 blocks_single 2700 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="co">#&gt; 5 blocks_single 3600 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="co">#&gt; 6 blocks_single 4500 0.002 0.003 0.002 0.003 0.003 0.002</span></span></code></pre></div>
</div>
<div id="what-to-do-next" class="section level2">
<h2>What to do next</h2>
<p>Now that you’ve imported your block-shaped data, you’ll need to
transform it for later analyses. Jump directly to the <strong><a href="#transforming-data">Transforming data</a></strong> section.</p>
</div>
</div>
<div id="importing-wide-shaped-data" class="section level1">
<h1>Importing wide-shaped data</h1>
<p>To import wide-shaped data, use the <code>read_wides</code> function.
<code>read_wides</code> only requires a filename (or vector of
filenames, or relative file paths) and will return a
<code>data.frame</code> (or list of data.frames) that you can save in
R.</p>
<div id="a-basic-example-1" class="section level2">
<h2>A basic example</h2>
<p>Here’s a simple example. First, we need to create an example
wide-shaped .csv file. <strong>Don’t worry how this code works</strong>.
When working with real growth curve data, these files would be output by
the plate reader. All you need to do is know the file name(s) to put in
you <code>R</code> code. In this example, the file name is
<code>widedata.csv</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">make_example</span>(<span class="at">vignette =</span> <span class="dv">2</span>, <span class="at">example =</span> <span class="dv">3</span>)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="co">#&gt; Files have been written</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;./widedata.csv&quot;</span></span></code></pre></div>
<p>Here’s what the start of the file looks like (where the values are
absorbance/optical density):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># Let&#39;s take a peek at what this file looks like</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fu">print_df</span>(<span class="fu">head</span>(<span class="fu">read.csv</span>(<span class="st">&quot;widedata.csv&quot;</span>, <span class="at">header =</span> <span class="cn">FALSE</span>, </span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>                       <span class="at">colClasses =</span> <span class="st">&quot;character&quot;</span>), </span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>              <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>)))</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="co">#&gt; Experiment name Experiment_1                                                </span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="co">#&gt;      Start date   2024-01-29                                                </span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="co">#&gt;                                                                             </span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="co">#&gt;                                                                             </span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="co">#&gt;            Time           A1    B1    C1    D1    E1    F1    G1    H1    A2</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="co">#&gt;               0        0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="co">#&gt;             900        0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="co">#&gt;            1800        0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="co">#&gt;            2700        0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="co">#&gt;            3600        0.002 0.002 0.002 0.003 0.003 0.002 0.002 0.003 0.002</span></span></code></pre></div>
<p>This file contains all the reads for a single plate taken across all
timepoints. We can see that the first two rows contain some metadata
saved by the plate reader, like the name of the experiment and the date
of the experiment. Then, we can see that the data starts on the 5th row
with a header. The first column contains the timepoint information, and
each subsequent column corresponds to a well in the plate.</p>
<p>If we want to read this file into <code>R</code>, we simply provide
<code>read_wides</code> with the file name, and save the result to some
<code>R</code> object (here, <code>imported_widedata</code>).
<code>read_wides</code> assumes your data starts on the first row and
column, and ends on the last row and column, unless you specify
otherwise.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>imported_widedata <span class="ot">&lt;-</span> <span class="fu">read_wides</span>(<span class="at">files =</span> <span class="st">&quot;widedata.csv&quot;</span>, <span class="at">startrow =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>The resulting <code>data.frame</code> looks like this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">head</span>(imported_widedata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">10</span>))</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="co">#&gt;        file Time    A1    B1    C1    D1    E1    F1    G1    H1</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="co">#&gt; 6  widedata    0 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="co">#&gt; 7  widedata  900 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="co">#&gt; 8  widedata 1800 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="co">#&gt; 9  widedata 2700 0.002 0.002 0.002 0.002 0.002 0.002 0.002 0.002</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="co">#&gt; 10 widedata 3600 0.002 0.002 0.002 0.003 0.003 0.002 0.002 0.003</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="co">#&gt; 11 widedata 4500 0.002 0.003 0.002 0.003 0.003 0.002 0.003 0.003</span></span></code></pre></div>
<p>Note that <em>read_wides automatically saves the filename</em> the
data was imported from into the first column of the output
<code>data.frame</code>. This is done to ensure that later on,
<code>data.frames</code> from multiple plates can be combined without
fear of losing the identity of each plate.</p>
<p>If you’re looking at your data in Excel or a similar spreadsheet
program, you’ll notice that the columns are coded by letter.
<code>read_wides</code> allows you to specify the column by letter
too.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>imported_widedata <span class="ot">&lt;-</span> <span class="fu">read_wides</span>(<span class="at">files =</span> <span class="st">&quot;widedata.csv&quot;</span>,</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>                                <span class="at">startrow =</span> <span class="dv">5</span>, <span class="at">startcol =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
</div>
<div id="specifying-metadata-1" class="section level2">
<h2>Specifying metadata</h2>
<p>Sometimes, your input files will have information you want to import
that’s not included in the main block of data. <code>read_wides</code>
can include that information as well via the <code>metadata</code>
argument.</p>
<p>The <code>metadata</code> argument should be a list of named vectors.
Each vector should be of length 2, with the first entry specifying the
row and the second entry specifying the column where the metadata is
located.</p>
<p>For example, in our previous example files, the experiment name was
located in the 2nd row, 2nd column, and the start date was located in
the 3rd row, 2nd column. Here’s how we could specify that metadata:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>imported_widedata <span class="ot">&lt;-</span> <span class="fu">read_wides</span>(<span class="at">files =</span> <span class="st">&quot;widedata.csv&quot;</span>,</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>                                <span class="at">startrow =</span> <span class="dv">5</span>,</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>                                <span class="at">metadata =</span> <span class="fu">list</span>(<span class="st">&quot;experiment_name&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>                                                <span class="st">&quot;start_date&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>)))</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="fu">head</span>(imported_widedata, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co">#&gt;        file experiment_name start_date Time    A1    B1    C1    D1</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="co">#&gt; 6  widedata    Experiment_1 2024-01-29    0 0.002 0.002 0.002 0.002</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="co">#&gt; 7  widedata    Experiment_1 2024-01-29  900 0.002 0.002 0.002 0.002</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a><span class="co">#&gt; 8  widedata    Experiment_1 2024-01-29 1800 0.002 0.002 0.002 0.002</span></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="co">#&gt; 9  widedata    Experiment_1 2024-01-29 2700 0.002 0.002 0.002 0.002</span></span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a><span class="co">#&gt; 10 widedata    Experiment_1 2024-01-29 3600 0.002 0.002 0.002 0.003</span></span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a><span class="co">#&gt; 11 widedata    Experiment_1 2024-01-29 4500 0.002 0.003 0.002 0.003</span></span></code></pre></div>
<p>You can also specify the location of metadata with Excel-style
lettering.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>imported_widedata <span class="ot">&lt;-</span> <span class="fu">read_wides</span>(<span class="at">files =</span> <span class="st">&quot;widedata.csv&quot;</span>,</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>                                <span class="at">startrow =</span> <span class="dv">5</span>,</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>                                <span class="at">metadata =</span> <span class="fu">list</span>(<span class="st">&quot;experiment_name&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="st">&quot;B&quot;</span>),</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>                                                <span class="st">&quot;start_date&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="st">&quot;B&quot;</span>)))</span></code></pre></div>
</div>
<div id="what-to-do-next-1" class="section level2">
<h2>What to do next</h2>
<p>Now that you’ve imported your wide-shaped data, you’ll need to
transform it for later analyses. Continue on to the <strong><a href="#transforming-data">Transforming data</a></strong> section.</p>
</div>
</div>
<div id="importing-tidy-shaped-data" class="section level1">
<h1>Importing tidy-shaped data</h1>
<p>To import tidy-shaped data, you could use the built-in <code>R</code>
functions like <code>read.table</code>. However, if you need a few more
options, you can use the <code>gcplyr</code> function
<code>read_tidys</code>. Unlike the built-in option,
<code>read_tidys</code> can import multiple tidy-shaped files at once,
can add the filename as a column in the resulting data.frame, and can
handle files where the tidy-shaped information doesn’t start on the
first row and column.</p>
<p><code>read_tidys</code> only requires a filename (or vector of
filenames, or relative file paths) and will return a
<code>data.frame</code> (or list of data.frames) that you can save in
R.</p>
<p>If you’ve read in your tidy-shaped data, you won’t need to transform
it, so you can skip down to the <strong><a href="#whats-next">What’s
next?</a></strong> section.</p>
</div>
<div id="transforming-data" class="section level1">
<h1>Transforming data</h1>
<p>Now that you’ve gotten your data into <code>R</code>, we need to
transform it before we can do analyses. To reiterate, this is necessary
because most plate readers that generate growth curve data outputs it in
block-shaped or wide-shaped files, but tidy-shaped
<code>data.frame</code>s are the best shape for analyses and required by
gcplyr.</p>
<p>You can transform your <code>data.frame</code>s using the
<code>trans_*</code> functions in <code>gcplyr</code>.</p>
<div id="transforming-from-wide-shaped-to-tidy-shaped" class="section level2">
<h2>Transforming from wide-shaped to tidy-shaped</h2>
<p>If the data you’ve read into the <code>R</code> environment is
wide-shaped (or you’ve gotten wide-shaped data by transforming your
originally block-shaped data), you’ll transform it to tidy-shaped using
<code>trans_wide_to_tidy</code>.</p>
<p>First, you need to provide <code>trans_wide_to_tidy</code> with the
<code>R</code> object created by <code>import_blockmeasures</code> or
<code>read_wides</code>.</p>
<p>Then, you have to specify one of:</p>
<ul>
<li>the columns your data (the spectrophotometric measures) are in via
<code>data_cols</code></li>
<li>what columns your non-data (e.g. time and other information) are in
via <code>id_cols</code></li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>imported_blocks_now_tidy <span class="ot">&lt;-</span> <span class="fu">trans_wide_to_tidy</span>(</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>  <span class="at">wides =</span> imported_blockdata,</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(<span class="st">&quot;block_name&quot;</span>, <span class="st">&quot;time&quot;</span>))</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a>imported_wides_now_tidy <span class="ot">&lt;-</span> <span class="fu">trans_wide_to_tidy</span>(</span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a>  <span class="at">wides =</span> imported_widedata,</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(<span class="st">&quot;file&quot;</span>, <span class="st">&quot;experiment_name&quot;</span>, <span class="st">&quot;start_date&quot;</span>, <span class="st">&quot;Time&quot;</span>))</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(imported_blocks_now_tidy), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a><span class="co">#&gt;     block_name time Well Measurements</span></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A1        0.002</span></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A2        0.002</span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A3        0.002</span></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A4        0.002</span></span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A5        0.002</span></span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a><span class="co">#&gt;  blocks_single    0   A6        0.002</span></span></code></pre></div>
</div>
</div>
<div id="whats-next" class="section level1">
<h1>What’s next?</h1>
<p>Now that you’ve imported and transformed your data to be tidy-shaped,
you likely want to incorporate some design information on what went into
each well (and plate). Alternatively, if you’d like to skip that step
for now, you can go directly to pre-processing and plotting your
data</p>
<ol style="list-style-type: decimal">
<li>Introduction: <code>vignette(&quot;gc01_gcplyr&quot;)</code></li>
<li>Importing and reshaping data:
<code>vignette(&quot;gc02_import_reshape&quot;)</code></li>
<li><strong>Incorporating experimental designs:
<code>vignette(&quot;gc03_incorporate_designs&quot;)</code></strong></li>
<li><strong>Pre-processing and plotting your data:
<code>vignette(&quot;gc04_preprocess_plot&quot;)</code></strong></li>
<li>Processing your data: <code>vignette(&quot;gc05_process&quot;)</code></li>
<li>Analyzing your data: <code>vignette(&quot;gc06_analyze&quot;)</code></li>
<li>Dealing with noise: <code>vignette(&quot;gc07_noise&quot;)</code></li>
<li>Statistics, merging other data, and other resources:
<code>vignette(&quot;gc08_conclusion&quot;)</code></li>
<li>Working with multiple plates:
<code>vignette(&quot;gc09_multiple_plates&quot;)</code></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
